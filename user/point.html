<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Điểm Tích Lũy - E-Shop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/user.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#ff424f',
                        secondary: '#c43a43',
                        accent: '#ff6b78',
                        light: '#f8f9fa',
                        dark: '#1a202c',
                        sidebarActive: '#fff5f5'
                    },
                    fontFamily: {
                        'sans': ['Roboto', 'sans-serif']
                    },
                    boxShadow: {
                        'card': '0 4px 20px rgba(0,0,0,0.08)'
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen bg-gray-50">
    <div class="point-container">
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2">Điểm Tích Lũy</h1>
            <p class="text-gray-600">Kiểm tra điểm tích lũy, lịch sử và cách kiếm thêm điểm</p>
        </div>
        
        <!-- Summary Card -->
        <div class="bg-gradient-to-r from-amber-500 to-yellow-400 text-white rounded-xl shadow-lg mb-8 overflow-hidden">
            <div class="p-6 md:p-8">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                    <div class="mb-4 md:mb-0">
                        <p class="text-lg font-medium mb-1">Tổng điểm hiện có</p>
                        <div class="flex items-baseline">
                            <span class="text-4xl md:text-5xl font-bold">1,250</span>
                            <span class="ml-2 text-lg">điểm</span>
                        </div>
                    </div>
                    
                    <div class="flex items-center">
                        <div class="bg-white bg-opacity-20 rounded-full p-3 mr-4">
                            <i class="fas fa-medal text-2xl"></i>
                        </div>
                        <div>
                            <p class="text-lg font-medium">Cấp độ thành viên</p>
                            <p class="text-xl font-bold">Bạc</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Progress to next level -->
            <div class="bg-white bg-opacity-20 p-4">
                <div class="flex justify-between items-center mb-2">
                    <span class="font-medium">Tiến trình lên cấp Vàng</span>
                    <span class="font-bold">250/1000 điểm</span>
                </div>
                <div class="w-full h-2 bg-white bg-opacity-30 rounded-full overflow-hidden">
                    <div class="progress-fill bg-white rounded-full" style="width: 25%"></div>
                </div>
            </div>
        </div>
        
        <!-- Points Value -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="bg-white rounded-xl shadow-md p-6">
                <div class="flex items-center mb-4">
                    <div class="bg-blue-100 text-blue-600 p-3 rounded-lg mr-4">
                        <i class="fas fa-coins text-xl"></i>
                    </div>
                    <h3 class="text-lg font-semibold">Giá trị điểm</h3>
                </div>
                <p class="text-gray-600 mb-4">1 điểm = 1.000 VNĐ khi thanh toán</p>
                <div class="text-center bg-yellow-50 py-3 rounded-lg">
                    <p class="font-semibold text-yellow-700">1,250 điểm = 1.250.000 VNĐ</p>
                </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-md p-6">
                <div class="flex items-center mb-4">
                    <div class="bg-green-100 text-green-600 p-3 rounded-lg mr-4">
                        <i class="fas fa-gift text-xl"></i>
                    </div>
                    <h3 class="text-lg font-semibold">Đổi điểm lấy quà</h3>
                </div>
                <p class="text-gray-600 mb-4">Sử dụng điểm để đổi voucher và quà tặng độc quyền</p>
                <div class="text-center">
                    <button id="view-gifts-btn" class="point-btn point-btn-primary">
                        <i class="fas fa-gift mr-2"></i> Xem quà tặng
                    </button>
                </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-md p-6">
                <div class="flex items-center mb-4">
                    <div class="bg-purple-100 text-purple-600 p-3 rounded-lg mr-4">
                        <i class="fas fa-clock text-xl"></i>
                    </div>
                    <h3 class="text-lg font-semibold">Hạn sử dụng</h3>
                </div>
                <p class="text-gray-600 mb-2">Điểm có hạn sử dụng 365 ngày kể từ ngày tích lũy</p>
                <div class="bg-purple-50 p-3 rounded-lg mt-3">
                    <p class="text-sm text-purple-700 font-medium">
                        <i class="fas fa-exclamation-circle mr-1"></i> 
                        150 điểm sẽ hết hạn vào 30/11/2024
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Membership Levels -->
        <div class="bg-white rounded-xl shadow-md mb-8 overflow-hidden">
            <div class="bg-indigo-600 text-white p-5">
                <div class="flex flex-col md:flex-row md:justify-between md:items-center">
                    <div class="mb-4 md:mb-0">
                        <h2 class="text-xl font-bold">Cấp độ thành viên</h2>
                        <p>Các đặc quyền theo từng cấp độ thành viên</p>
                    </div>
                    <button id="view-privileges-btn" class="point-btn bg-white text-indigo-600 rounded-lg font-medium hover:bg-gray-100">
                        <i class="fas fa-crown mr-2"></i> Xem đặc quyền
                    </button>
                </div>
            </div>
            
            <div class="p-5">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                    <!-- Bronze Level -->
                    <div class="text-center p-4 border-2 border-amber-500 rounded-lg relative">
                        <div class="absolute top-0 right-0 bg-amber-500 text-white px-3 py-1 rounded-bl-lg text-xs font-medium">
                            Hiện tại
                        </div>
                        <div class="level-icon inline-block bg-amber-100 text-amber-600 p-4 rounded-full mb-3">
                            <i class="fas fa-medal text-3xl"></i>
                        </div>
                        <h3 class="font-bold text-lg text-amber-700 mb-1">Bạc</h3>
                        <p class="text-gray-600 text-sm mb-3">250 - 999 điểm</p>
                        <ul class="text-left space-y-2 text-sm">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Tích lũy 1.2x điểm</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Giảm thêm 5% khi có voucher</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Silver Level -->
                    <div class="text-center p-4 border-2 border-gray-200 rounded-lg">
                        <div class="level-icon inline-block bg-gray-100 text-gray-600 p-4 rounded-full mb-3">
                            <i class="fas fa-medal text-3xl"></i>
                        </div>
                        <h3 class="font-bold text-lg text-gray-700 mb-1">Vàng</h3>
                        <p class="text-gray-600 text-sm mb-3">1,000 - 4,999 điểm</p>
                        <ul class="text-left space-y-2 text-sm">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Tích lũy 1.5x điểm</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Giảm thêm 10% khi có voucher</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Miễn phí vận chuyển</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Gold Level -->
                    <div class="text-center p-4 border-2 border-gray-200 rounded-lg">
                        <div class="level-icon inline-block bg-gray-100 text-gray-600 p-4 rounded-full mb-3">
                            <i class="fas fa-medal text-3xl"></i>
                        </div>
                        <h3 class="font-bold text-lg text-gray-700 mb-1">Bạch Kim</h3>
                        <p class="text-gray-600 text-sm mb-3">5,000 - 9,999 điểm</p>
                        <ul class="text-left space-y-2 text-sm">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Tích lũy 2x điểm</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Giảm thêm 15% khi có voucher</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Hỗ trợ 24/7</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Platinum Level -->
                    <div class="text-center p-4 border-2 border-gray-200 rounded-lg">
                        <div class="level-icon inline-block bg-gray-100 text-gray-600 p-4 rounded-full mb-3">
                            <i class="fas fa-crown text-3xl"></i>
                        </div>
                        <h3 class="font-bold text-lg text-gray-700 mb-1">Kim Cương</h3>
                        <p class="text-gray-600 text-sm mb-3">10,000+ điểm</p>
                        <ul class="text-left space-y-2 text-sm">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Tích lũy 2.5x điểm</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Giảm thêm 20% khi có voucher</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                <span>Quà tặng sinh nhật đặc biệt</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Points History -->
        <div class="bg-white rounded-xl shadow-md mb-8 overflow-hidden">
            <div class="bg-teal-600 text-white p-5">
                <div class="flex flex-col md:flex-row md:justify-between md:items-center">
                    <div class="mb-4 md:mb-0">
                        <h2 class="text-xl font-bold">Lịch sử điểm</h2>
                        <p>Các giao dịch tích điểm và sử dụng điểm gần đây</p>
                    </div>
                    <button id="view-history-btn" class="point-btn bg-white text-teal-600 rounded-lg font-medium hover:bg-gray-100">
                        <i class="fas fa-history mr-2"></i> Xem lịch sử
                    </button>
                </div>
            </div>
            
            <div class="p-5">
                <div class="flex flex-wrap gap-2 mb-6">
                    <button class="filter-btn active" data-filter="all">Tất cả</button>
                    <button class="filter-btn" data-filter="earn">Kiếm điểm</button>
                    <button class="filter-btn" data-filter="use">Dùng điểm</button>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead class="bg-gray-50 text-gray-600">
                            <tr>
                                <th class="p-3 text-left">Ngày</th>
                                <th class="p-3 text-left">Mô tả</th>
                                <th class="p-3 text-right">Điểm</th>
                                <th class="p-3 text-right">Tổng điểm</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="point-history-item" data-type="earn">
                                <td class="p-3">25/06/2024</td>
                                <td class="p-3">
                                    <div class="flex items-center">
                                        <div class="bg-green-100 text-green-600 p-2 rounded-lg mr-3">
                                            <i class="fas fa-shopping-cart"></i>
                                        </div>
                                        <div>
                                            <p>Mua hàng - Đơn #DH20240625001</p>
                                            <p class="text-gray-500 text-xs">Hoàn thành đơn hàng</p>
                                        </div>
                                    </div>
                                </td>
                                <td class="p-3 text-right text-green-600 font-semibold">+250</td>
                                <td class="p-3 text-right font-medium">1,250</td>
                            </tr>
                            
                            <tr class="point-history-item" data-type="earn">
                                <td class="p-3">20/06/2024</td>
                                <td class="p-3">
                                    <div class="flex items-center">
                                        <div class="bg-blue-100 text-blue-600 p-2 rounded-lg mr-3">
                                            <i class="fas fa-comment-alt"></i>
                                        </div>
                                        <div>
                                            <p>Đánh giá sản phẩm</p>
                                            <p class="text-gray-500 text-xs">iPhone 13 Pro Max</p>
                                        </div>
                                    </div>
                                </td>
                                <td class="p-3 text-right text-green-600 font-semibold">+50</td>
                                <td class="p-3 text-right font-medium">1,000</td>
                            </tr>
                            
                            <tr class="point-history-item" data-type="use">
                                <td class="p-3">15/06/2024</td>
                                <td class="p-3">
                                    <div class="flex items-center">
                                        <div class="bg-purple-100 text-purple-600 p-2 rounded-lg mr-3">
                                            <i class="fas fa-ticket-alt"></i>
                                        </div>
                                        <div>
                                            <p>Đổi điểm lấy voucher</p>
                                            <p class="text-gray-500 text-xs">Voucher giảm 10%</p>
                                        </div>
                                    </div>
                                </td>
                                <td class="p-3 text-right text-red-600 font-semibold">-200</td>
                                <td class="p-3 text-right font-medium">950</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- Earn More Points -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden">
            <div class="bg-orange-500 text-white p-5">
                <h2 class="text-xl font-bold">Cách kiếm thêm điểm</h2>
                <p>Tăng điểm tích lũy của bạn với các hoạt động đơn giản</p>
            </div>
            
            <div class="p-5">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="earn-point-card bg-white border border-gray-200 rounded-lg p-5 text-center transition-all duration-300">
                        <div class="bg-blue-100 text-blue-600 p-4 rounded-full inline-block mb-4">
                            <i class="fas fa-shopping-cart text-3xl"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2">Mua hàng</h3>
                        <p class="text-gray-600 mb-4">Nhận 1 điểm cho mỗi 10,000 VNĐ chi tiêu</p>
                        <div class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium inline-block">
                            <i class="fas fa-bolt mr-1"></i> +20% điểm cho thành viên Bạc
                        </div>
                    </div>
                    
                    <div class="earn-point-card bg-white border border-gray-200 rounded-lg p-5 text-center transition-all duration-300">
                        <div class="bg-green-100 text-green-600 p-4 rounded-full inline-block mb-4">
                            <i class="fas fa-comment-alt text-3xl"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2">Đánh giá sản phẩm</h3>
                        <p class="text-gray-600 mb-4">50 điểm cho mỗi đánh giá chất lượng</p>
                        <div class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-medium inline-block">
                            Tối đa 5 đánh giá/tuần
                        </div>
                    </div>
                    
                    <div class="earn-point-card bg-white border border-gray-200 rounded-lg p-5 text-center transition-all duration-300">
                        <div class="bg-purple-100 text-purple-600 p-4 rounded-full inline-block mb-4">
                            <i class="fas fa-user-plus text-3xl"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2">Giới thiệu bạn bè</h3>
                        <p class="text-gray-600 mb-4">500 điểm khi bạn bè đăng ký và mua hàng đầu tiên</p>
                        <div class="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-medium inline-block">
                            <i class="fas fa-gift mr-1"></i> Nhận thêm 200 điểm khi họ mua lần 2
                        </div>
                    </div>
                    
                    <div class="earn-point-card bg-white border border-gray-200 rounded-lg p-5 text-center transition-all duration-300">
                        <div class="bg-yellow-100 text-yellow-600 p-4 rounded-full inline-block mb-4">
                            <i class="fas fa-birthday-cake text-3xl"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2">Điểm sinh nhật</h3>
                        <p class="text-gray-600 mb-4">100 điểm miễn phí vào ngày sinh nhật của bạn</p>
                        <div class="bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm font-medium inline-block">
                            Chỉ cần cập nhật thông tin
                        </div>
                    </div>
                </div>
                
                <div class="mt-8 text-center">
                    <div class="inline-block bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4">
                        <p class="text-orange-700 font-medium">
                            <i class="fas fa-lightbulb mr-2"></i>
                            Bạn có thể kiếm thêm tới 1,000 điểm/tháng từ các hoạt động này!
                        </p>
                    </div>
                    <div class="flex justify-center gap-4">
                        <button id="earn-points-btn" class="point-btn point-btn-primary">
                            <i class="fas fa-plus-circle mr-2"></i> Kiếm điểm
                        </button>
                        <button id="use-points-btn" class="point-btn point-btn-outline">
                            <i class="fas fa-coins mr-2"></i> Dùng điểm
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Gift Modal -->
    <div class="modal-overlay" id="gift-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Quà Tặng Đổi Điểm</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="gift-card">
                        <div class="bg-purple-100 p-4">
                            <div class="flex justify-between items-start">
                                <h3 class="font-bold text-lg">Voucher Giảm 10%</h3>
                                <div class="bg-purple-600 text-white px-2 py-1 rounded-full text-xs">100 điểm</div>
                            </div>
                            <p class="text-gray-600 text-sm mt-2">Giảm 10% cho đơn hàng từ 500.000đ</p>
                        </div>
                        <div class="p-4 flex justify-between items-center">
                            <div class="text-sm text-gray-500">HSD: 30/07/2024</div>
                            <button class="point-btn point-btn-primary text-sm">Đổi ngay</button>
                        </div>
                    </div>
                    
                    <div class="gift-card">
                        <div class="bg-blue-100 p-4">
                            <div class="flex justify-between items-start">
                                <h3 class="font-bold text-lg">Voucher Freeship</h3>
                                <div class="bg-blue-600 text-white px-2 py-1 rounded-full text-xs">80 điểm</div>
                            </div>
                            <p class="text-gray-600 text-sm mt-2">Miễn phí vận chuyển toàn quốc</p>
                        </div>
                        <div class="p-4 flex justify-between items-center">
                            <div class="text-sm text-gray-500">HSD: 25/07/2024</div>
                            <button class="point-btn point-btn-primary text-sm">Đổi ngay</button>
                        </div>
                    </div>
                    
                    <div class="gift-card">
                        <div class="bg-green-100 p-4">
                            <div class="flex justify-between items-start">
                                <h3 class="font-bold text-lg">Tai nghe Bluetooth</h3>
                                <div class="bg-green-600 text-white px-2 py-1 rounded-full text-xs">500 điểm</div>
                            </div>
                            <p class="text-gray-600 text-sm mt-2">Tai nghe không dây cao cấp</p>
                        </div>
                        <div class="p-4 flex justify-between items-center">
                            <div class="text-sm text-gray-500">Còn 20 sản phẩm</div>
                            <button class="point-btn point-btn-primary text-sm">Đổi ngay</button>
                        </div>
                    </div>
                    
                    <div class="gift-card">
                        <div class="bg-yellow-100 p-4">
                            <div class="flex justify-between items-start">
                                <h3 class="font-bold text-lg">Túi xách thời trang</h3>
                                <div class="bg-yellow-600 text-white px-2 py-1 rounded-full text-xs">400 điểm</div>
                            </div>
                            <p class="text-gray-600 text-sm mt-2">Túi xách da cao cấp</p>
                        </div>
                        <div class="p-4 flex justify-between items-center">
                            <div class="text-sm text-gray-500">Còn 15 sản phẩm</div>
                            <button class="point-btn point-btn-primary text-sm">Đổi ngay</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Privileges Modal -->
    <div class="modal-overlay" id="privileges-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Đặc Quyền Thành Viên</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="mb-6">
                    <h3 class="text-lg font-bold mb-3">Cấp độ hiện tại: <span class="text-amber-600">Bạc</span></h3>
                    <div class="bg-amber-50 p-4 rounded-lg">
                        <p>Bạn đang ở cấp độ thành viên Bạc. Hãy tích lũy thêm điểm để lên cấp độ cao hơn và nhận nhiều đặc quyền hơn!</p>
                    </div>
                </div>
                
                <h3 class="text-lg font-bold mb-3">Đặc quyền theo cấp độ:</h3>
                
                <div class="privilege-item">
                    <div class="bg-amber-100 text-amber-600 p-3 rounded-full mr-3">
                        <i class="fas fa-medal"></i>
                    </div>
                    <div>
                        <h4 class="font-bold">Cấp Bạc (250-999 điểm)</h4>
                        <ul class="list-disc pl-5 mt-2 text-gray-600">
                            <li>Tích lũy điểm nhanh hơn (1.2x)</li>
                            <li>Giảm thêm 5% khi sử dụng voucher</li>
                            <li>Ưu tiên hỗ trợ khách hàng</li>
                        </ul>
                    </div>
                </div>
                
                <div class="privilege-item">
                    <div class="bg-yellow-100 text-yellow-600 p-3 rounded-full mr-3">
                        <i class="fas fa-medal"></i>
                    </div>
                    <div>
                        <h4 class="font-bold">Cấp Vàng (1,000-4,999 điểm)</h4>
                        <ul class="list-disc pl-5 mt-2 text-gray-600">
                            <li>Tích lũy điểm nhanh hơn (1.5x)</li>
                            <li>Giảm thêm 10% khi sử dụng voucher</li>
                            <li>Miễn phí vận chuyển toàn quốc</li>
                            <li>Quà tặng sinh nhật đặc biệt</li>
                        </ul>
                    </div>
                </div>
                
                <div class="privilege-item">
                    <div class="bg-gray-100 text-gray-600 p-3 rounded-full mr-3">
                        <i class="fas fa-medal"></i>
                    </div>
                    <div>
                        <h4 class="font-bold">Cấp Bạch Kim (5,000-9,999 điểm)</h4>
                        <ul class="list-disc pl-5 mt-2 text-gray-600">
                            <li>Tích lũy điểm nhanh hơn (2x)</li>
                            <li>Giảm thêm 15% khi sử dụng voucher</li>
                            <li>Hỗ trợ khách hàng 24/7</li>
                            <li>Quà tặng đặc biệt hàng tháng</li>
                        </ul>
                    </div>
                </div>
                
                <div class="privilege-item">
                    <div class="bg-blue-100 text-blue-600 p-3 rounded-full mr-3">
                        <i class="fas fa-crown"></i>
                    </div>
                    <div>
                        <h4 class="font-bold">Cấp Kim Cương (10,000+ điểm)</h4>
                        <ul class="list-disc pl-5 mt-2 text-gray-600">
                            <li>Tích lũy điểm nhanh hơn (2.5x)</li>
                            <li>Giảm thêm 20% khi sử dụng voucher</li>
                            <li>Dịch vụ chăm sóc VIP</li>
                            <li>Quà tặng cao cấp hàng quý</li>
                            <li>Tham gia sự kiện đặc biệt</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- History Modal -->
    <div class="modal-overlay" id="history-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Lịch Sử Điểm Chi Tiết</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="mb-4 flex gap-2">
                    <button class="filter-btn active">Tất cả</button>
                    <button class="filter-btn">Kiếm điểm</button>
                    <button class="filter-btn">Dùng điểm</button>
                    <button class="filter-btn">30 ngày qua</button>
                </div>
                
                <div class="bg-white rounded-lg shadow-sm">
                    <div class="history-item">
                        <div>
                            <div class="font-bold">Mua hàng - Đơn #DH20240625001</div>
                            <div class="text-gray-500 text-sm">25/06/2024</div>
                        </div>
                        <div class="text-right">
                            <div class="point-badge point-earn">+250 điểm</div>
                            <div class="font-medium mt-1">1,250 điểm</div>
                        </div>
                    </div>
                    
                    <div class="history-item">
                        <div>
                            <div class="font-bold">Đánh giá sản phẩm</div>
                            <div class="text-gray-500 text-sm">20/06/2024</div>
                        </div>
                        <div class="text-right">
                            <div class="point-badge point-earn">+50 điểm</div>
                            <div class="font-medium mt-1">1,000 điểm</div>
                        </div>
                    </div>
                    
                    <div class="history-item">
                        <div>
                            <div class="font-bold">Đổi điểm lấy voucher</div>
                            <div class="text-gray-500 text-sm">15/06/2024</div>
                        </div>
                        <div class="text-right">
                            <div class="point-badge point-use">-200 điểm</div>
                            <div class="font-medium mt-1">950 điểm</div>
                        </div>
                    </div>
                    
                    <div class="history-item">
                        <div>
                            <div class="font-bold">Giới thiệu bạn bè</div>
                            <div class="text-gray-500 text-sm">10/06/2024</div>
                        </div>
                        <div class="text-right">
                            <div class="point-badge point-earn">+500 điểm</div>
                            <div class="font-medium mt-1">1,150 điểm</div>
                        </div>
                    </div>
                    
                    <div class="history-item">
                        <div>
                            <div class="font-bold">Sinh nhật thành viên</div>
                            <div class="text-gray-500 text-sm">01/06/2024</div>
                        </div>
                        <div class="text-right">
                            <div class="point-badge point-earn">+100 điểm</div>
                            <div class="font-medium mt-1">650 điểm</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Earn Points Modal -->
    <div class="modal-overlay" id="earn-points-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Cách Kiếm Thêm Điểm</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="mb-6 bg-blue-50 p-4 rounded-lg">
                    <h3 class="font-bold text-lg mb-2">Tổng điểm hiện có: <span class="text-primary">1,250 điểm</span></h3>
                    <p>Hoàn thành các nhiệm vụ dưới đây để kiếm thêm điểm tích lũy!</p>
                </div>
                
                <div class="space-y-4">
                    <div class="task-item">
                        <div class="bg-green-100 text-green-600 p-3 rounded-full mr-4">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold">Mua hàng trên E-Shop</h4>
                            <p class="text-gray-600 text-sm">Nhận 1 điểm cho mỗi 10,000 VNĐ chi tiêu</p>
                        </div>
                        <div class="text-right">
                            <div class="point-badge point-earn">+250 điểm</div>
                            <button class="point-btn point-btn-primary mt-2 text-sm">Thực hiện</button>
                        </div>
                    </div>
                    
                    <div class="task-item">
                        <div class="bg-blue-100 text-blue-600 p-3 rounded-full mr-4">
                            <i class="fas fa-comment-alt"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold">Viết đánh giá sản phẩm</h4>
                            <p class="text-gray-600 text-sm">50 điểm cho mỗi đánh giá chất lượng</p>
                        </div>
                        <div class="text-right">
                            <div class="point-badge point-earn">+50 điểm</div>
                            <button class="point-btn point-btn-primary mt-2 text-sm">Thực hiện</button>
                        </div>
                    </div>
                    
                    <div class="task-item">
                        <div class="bg-purple-100 text-purple-600 p-3 rounded-full mr-4">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold">Giới thiệu bạn bè</h4>
                            <p class="text-gray-600 text-sm">500 điểm khi bạn bè đăng ký và mua hàng đầu tiên</p>
                        </div>
                        <div class="text-right">
                            <div class="point-badge point-earn">+500 điểm</div>
                            <button class="point-btn point-btn-primary mt-2 text-sm">Chia sẻ</button>
                        </div>
                    </div>
                    
                    <div class="task-item">
                        <div class="bg-yellow-100 text-yellow-600 p-3 rounded-full mr-4">
                            <i class="fas fa-calendar-day"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold">Đăng nhập 7 ngày liên tiếp</h4>
                            <p class="text-gray-600 text-sm">Nhận 100 điểm khi đăng nhập 7 ngày liên tiếp</p>
                        </div>
                        <div class="text-right">
                            <div class="point-badge point-earn">+100 điểm</div>
                            <div class="text-sm text-gray-500 mt-2">3/7 ngày</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Use Points Modal -->
    <div class="modal-overlay" id="use-points-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Dùng Điểm Tích Lũy</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="mb-6 bg-purple-50 p-4 rounded-lg">
                    <h3 class="font-bold text-lg mb-2">Số điểm có thể dùng: <span class="text-primary">1,250 điểm</span></h3>
                    <p>1 điểm = 1.000 VNĐ khi thanh toán</p>
                </div>
                
                <div class="space-y-4">
                    <div class="flex items-start border-b pb-4">
                        <div class="bg-red-100 text-red-600 p-3 rounded-full mr-4">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold">Thanh toán đơn hàng</h4>
                            <p class="text-gray-600 text-sm">Sử dụng điểm để giảm trực tiếp vào giá trị đơn hàng</p>
                        </div>
                        <button class="point-btn point-btn-primary">Sử dụng</button>
                    </div>
                    
                    <div class="flex items-start border-b pb-4">
                        <div class="bg-green-100 text-green-600 p-3 rounded-full mr-4">
                            <i class="fas fa-ticket-alt"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold">Đổi điểm lấy voucher</h4>
                            <p class="text-gray-600 text-sm">Đổi điểm để nhận voucher giảm giá đặc biệt</p>
                        </div>
                        <button class="point-btn point-btn-primary">Đổi ngay</button>
                    </div>
                    
                    <div class="flex items-start border-b pb-4">
                        <div class="bg-blue-100 text-blue-600 p-3 rounded-full mr-4">
                            <i class="fas fa-gift"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold">Đổi quà tặng</h4>
                            <p class="text-gray-600 text-sm">Chọn từ danh sách quà tặng hấp dẫn</p>
                        </div>
                        <button class="point-btn point-btn-primary">Xem quà</button>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="bg-yellow-100 text-yellow-600 p-3 rounded-full mr-4">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold">Quy đổi thành tiền mặt</h4>
                            <p class="text-gray-600 text-sm">Chuyển điểm thành tiền mặt vào ví điện tử</p>
                        </div>
                        <button class="point-btn point-btn-primary">Quy đổi</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Modal control functions
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            sendHeightToParent();
        }
        
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
            sendHeightToParent();
        }
        
        // Modal event listeners
        document.getElementById('view-gifts-btn').addEventListener('click', () => openModal('gift-modal'));
        document.getElementById('view-privileges-btn').addEventListener('click', () => openModal('privileges-modal'));
        document.getElementById('view-history-btn').addEventListener('click', () => openModal('history-modal'));
        document.getElementById('earn-points-btn').addEventListener('click', () => openModal('earn-points-modal'));
        document.getElementById('use-points-btn').addEventListener('click', () => openModal('use-points-modal'));
        
        // Close modals when clicking close button
        document.querySelectorAll('.modal-close').forEach(button => {
            button.addEventListener('click', function() {
                const modal = this.closest('.modal-overlay');
                closeModal(modal.id);
            });
        });
        
        // Close modals when clicking outside
        document.querySelectorAll('.modal-overlay').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal(this.id);
                }
            });
        });
        
        // Filter history items
        const filterButtons = document.querySelectorAll('.filter-btn');
        const historyItems = document.querySelectorAll('.point-history-item');
        
        filterButtons.forEach(button => {
            button.addEventListener('click', function() {
                const filter = this.getAttribute('data-filter');
                
                // Remove active class from all buttons
                filterButtons.forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // Add active class to clicked button
                this.classList.add('active');
                
                // Filter history items
                historyItems.forEach(item => {
                    if (filter === 'all') {
                        item.style.display = 'table-row';
                    } else {
                        if (item.getAttribute('data-type') === filter) {
                            item.style.display = 'table-row';
                        } else {
                            item.style.display = 'none';
                        }
                    }
                });
            });
        });
        
        //Hàm gửi chiều cao về trang chủ
        function updateParentHeight() {
            const height = document.documentElement.scrollHeight;
            
            window.parent.postMessage({
                type: 'resizeIframe',
                height: height
            }, '*');
        }

        // Gọi khi tải trang
        document.addEventListener('DOMContentLoaded', function() {
            updateParentHeight();
            
            // Thêm ResizeObserver để tự động cập nhật
            const resizeObserver = new ResizeObserver(entries => {
                updateParentHeight();
            });
            
            resizeObserver.observe(document.body);
        });
    </script>
</body>
</html>