<!DOCTYPE html>
<html lang="vi" class="scroll-smooth bg-gray-50">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Thông tin tài khoản - Shopee Clone</title>
  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
    rel="stylesheet"
  />
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Roboto', sans-serif;
    }
    /* Scrollbar for sidebar */
    .sidebar-scrollbar::-webkit-scrollbar {
      width: 8px;
    }
    .sidebar-scrollbar::-webkit-scrollbar-thumb {
      background-color: #cbd5e1;
      border-radius: 4px;
    }
    .sidebar-scrollbar::-webkit-scrollbar-track {
      background-color: transparent;
    }
    /* Custom scrollbar for order list */
    .order-scrollbar::-webkit-scrollbar {
      height: 8px;
    }
    .order-scrollbar::-webkit-scrollbar-thumb {
      background-color: #cbd5e1;
      border-radius: 4px;
    }
    .order-scrollbar::-webkit-scrollbar-track {
      background-color: transparent;
    }
    /* Badge colors */
    .badge-processing {
      background-color: #facc15; /* yellow-400 */
      color: #92400e; /* yellow-800 */
    }
    .badge-shipped {
      background-color: #3b82f6; /* blue-500 */
      color: #1e40af; /* blue-900 */
    }
    .badge-delivered {
      background-color: #22c55e; /* green-500 */
      color: #166534; /* green-900 */
    }
    .badge-cancelled {
      background-color: #ef4444; /* red-500 */
      color: #991b1b; /* red-900 */
    }
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <!-- Navigation -->
  <nav class="bg-white shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-6 py-4 flex justify-between items-center">
      <a href="index.html" class="text-3xl font-extrabold text-black hover:text-gray-700 transition">Shopee</a>
      <ul class="hidden md:flex space-x-8 font-semibold text-gray-700">
        <li><a href="shop.html" class="hover:text-black transition">Cửa hàng</a></li>
        <li><a href="about.html" class="hover:text-black transition">Giới thiệu</a></li>
        <li><a href="contact.html" class="hover:text-black transition">Liên hệ</a></li>
        <li><a href="faq.html" class="hover:text-black transition">Hỏi đáp</a></li>
      </ul>
      <div class="hidden md:flex items-center space-x-6 font-semibold text-gray-700">
        <a href="cart.html" class="relative hover:text-black transition">
          Giỏ hàng
          <span class="absolute -top-2 -right-3 bg-red-600 text-white rounded-full text-xs w-5 h-5 flex items-center justify-center">3</span>
        </a>
        <div class="relative group">
          <button
            class="focus:outline-none text-black font-semibold"
            aria-haspopup="true"
            aria-expanded="false"
            aria-controls="account-menu"
          >
            Tài khoản
          </button>
          <ul
            id="account-menu"
            class="absolute right-0 mt-2 w-52 bg-white text-black rounded-lg shadow-lg opacity-0 invisible group-focus-within:opacity-100 group-focus-within:visible transition-opacity"
            role="menu"
            aria-label="Account menu"
          >
            <li>
              <a
                href="profile.html"
                class="block px-5 py-3 hover:bg-gray-100 rounded-t-lg"
                role="menuitem"
                >Thông tin tài khoản</a
              >
            </li>
            <li>
              <a
                href="orders.html"
                class="block px-5 py-3 hover:bg-gray-100"
                role="menuitem"
                >Đơn hàng của tôi</a
              >
            </li>
            <li><hr class="border-gray-300" /></li>
            <li>
              <a
                href="login.html"
                class="block px-5 py-3 hover:bg-gray-100 rounded-b-lg"
                role="menuitem"
                >Đăng xuất</a
              >
            </li>
          </ul>
        </div>
      </div>
      <!-- Mobile menu button -->
      <button
        id="mobile-menu-button"
        class="md:hidden focus:outline-none"
        aria-label="Open menu"
      >
        <svg
          class="w-7 h-7 text-gray-700"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          ></path>
        </svg>
      </button>
    </div>
    <!-- Mobile menu -->
    <div
      id="mobile-menu"
      class="hidden md:hidden bg-white px-6 pb-6 space-y-4 border-t border-gray-200"
    >
      <a href="shop.html" class="block py-2 text-gray-700 hover:text-black transition">Cửa hàng</a>
      <a href="about.html" class="block py-2 text-gray-700 hover:text-black transition">Giới thiệu</a>
      <a href="contact.html" class="block py-2 text-gray-700 hover:text-black transition">Liên hệ</a>
      <a href="faq.html" class="block py-2 text-gray-700 hover:text-black transition">Hỏi đáp</a>
      <a href="cart.html" class="block py-2 text-gray-700 hover:text-black transition">Giỏ hàng</a>
      <a href="profile.html" class="block py-2 text-gray-700 hover:text-black transition">Thông tin tài khoản</a>
      <a href="orders.html" class="block py-2 text-gray-700 hover:text-black transition">Đơn hàng của tôi</a>
      <a href="login.html" class="block py-2 text-gray-700 hover:text-black transition">Đăng xuất</a>
    </div>
  </nav>

  <!-- Profile Section -->
  <main class="container mx-auto px-6 py-10 flex flex-col md:flex-row gap-10 flex-1">
    <!-- Sidebar -->
    <aside
      class="md:w-1/4 bg-white rounded-xl shadow-lg p-6 sidebar-scrollbar max-h-[85vh] overflow-y-auto sticky top-24"
      aria-label="Profile navigation"
    >
      <div class="flex flex-col items-center mb-10">
        <div class="relative group w-28 h-28 mb-5">
          <img
            src="https://images.pexels.com/photos/771742/pexels-photo-771742.jpeg"
            alt="Avatar"
            class="w-28 h-28 rounded-full object-cover border-4 border-gray-300 group-hover:border-black transition"
          />
          <label
            for="avatarUpload"
            class="absolute inset-0 bg-black bg-opacity-60 text-white opacity-0 group-hover:opacity-100 flex items-center justify-center rounded-full cursor-pointer transition"
            title="Thay đổi ảnh đại diện"
          >
            Đổi ảnh
          </label>
          <input
            type="file"
            id="avatarUpload"
            accept="image/*"
            class="hidden"
            aria-label="Upload avatar"
          />
        </div>
        <h2 class="text-2xl font-extrabold text-gray-900">Nguyễn Văn A</h2>
        <p class="text-gray-600 mt-1">nguyenvana@email.com</p>
      </div>
      <nav class="flex flex-col space-y-4" role="tablist" aria-orientation="vertical">
        <button
          class="text-left px-5 py-3 rounded-lg font-semibold bg-black text-white shadow-md focus:outline-none focus:ring-2 focus:ring-black"
          id="tab-profile"
          role="tab"
          aria-selected="true"
          aria-controls="panel-profile"
          tabindex="0"
          type="button"
        >
          Thông tin cá nhân
        </button>
        <button
          class="text-left px-5 py-3 rounded-lg font-semibold hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-black"
          id="tab-orders"
          role="tab"
          aria-selected="false"
          aria-controls="panel-orders"
          tabindex="-1"
          type="button"
        >
          Đơn hàng
        </button>
        <button
          class="text-left px-5 py-3 rounded-lg font-semibold hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-black"
          id="tab-addresses"
          role="tab"
          aria-selected="false"
          aria-controls="panel-addresses"
          tabindex="-1"
          type="button"
        >
          Địa chỉ
        </button>
        <button
          class="text-left px-5 py-3 rounded-lg font-semibold hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-black"
          id="tab-security"
          role="tab"
          aria-selected="false"
          aria-controls="panel-security"
          tabindex="-1"
          type="button"
        >
          Bảo mật
        </button>
      </nav>
    </aside>

    <!-- Main Content -->
    <section class="md:w-3/4 bg-white rounded-xl shadow-lg p-10" tabindex="0">
      <!-- Profile Info Panel -->
      <div id="panel-profile" role="tabpanel" aria-labelledby="tab-profile">
        <h3 class="text-3xl font-extrabold mb-8 text-gray-900">Thông tin cá nhân</h3>
        <form id="profileForm" class="space-y-8" novalidate>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div>
              <label for="firstName" class="block mb-3 font-semibold text-gray-700">Họ</label>
              <input
                type="text"
                id="firstName"
                name="firstName"
                class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black transition"
                value="Nguyễn"
                required
              />
            </div>
            <div>
              <label for="lastName" class="block mb-3 font-semibold text-gray-700">Tên</label>
              <input
                type="text"
                id="lastName"
                name="lastName"
                class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black transition"
                value="Văn A"
                required
              />
            </div>
          </div>
          <div>
            <label for="email" class="block mb-3 font-semibold text-gray-700">Email</label>
            <input
              type="email"
              id="email"
              name="email"
              class="w-full border border-gray-300 rounded-lg px-4 py-3 bg-gray-100 cursor-not-allowed"
              value="nguyenvana@email.com"
              readonly
              required
            />
          </div>
          <div>
            <label for="phone" class="block mb-3 font-semibold text-gray-700">Số điện thoại</label>
            <input
              type="tel"
              id="phone"
              name="phone"
              class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black transition"
              value="0123456789"
              required
            />
          </div>
          <div>
            <label for="dob" class="block mb-3 font-semibold text-gray-700">Ngày sinh</label>
            <input
              type="date"
              id="dob"
              name="dob"
              class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black transition"
              value="1990-01-01"
              required
            />
          </div>
          <div>
            <label for="gender" class="block mb-3 font-semibold text-gray-700">Giới tính</label>
            <select
              id="gender"
              name="gender"
              class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black transition"
              required
            >
              <option value="male">Nam</option>
              <option value="female">Nữ</option>
              <option value="other">Khác</option>
            </select>
          </div>
          <button
            type="submit"
            class="bg-black text-white px-8 py-3 rounded-lg font-semibold hover:bg-gray-900 transition"
          >
            Lưu thay đổi
          </button>
        </form>
      </div>

      <!-- Orders Panel -->
      <div id="panel-orders" role="tabpanel" aria-labelledby="tab-orders" hidden>
        <h3 class="text-3xl font-extrabold mb-8 text-gray-900">Đơn hàng của tôi</h3>
        <div class="space-y-6 max-h-[65vh] overflow-y-auto order-scrollbar pr-2">
          <div class="border rounded-xl p-6 shadow-md hover:shadow-xl transition relative bg-white">
            <div class="flex justify-between items-center mb-4">
              <div>
                <span class="font-semibold text-lg">#123456789</span>
                <p class="text-sm text-gray-500">Ngày: 2024-06-01</p>
              </div>
              <span class="badge-processing px-3 py-1 rounded-full font-semibold text-sm">Đang xử lý</span>
            </div>
            <div class="mb-4">
              <p><strong>Tổng tiền:</strong> 1,200,000 VND</p>
            </div>
            <button
              class="text-blue-600 hover:underline font-semibold focus:outline-none"
              type="button"
              aria-expanded="false"
              aria-controls="order-details-1"
              onclick="toggleOrderDetails('order-details-1')"
            >
              Xem chi tiết đơn hàng
            </button>
            <div id="order-details-1" class="hidden mt-4 border-t pt-4">
              <ul class="divide-y divide-gray-200">
                <li class="flex items-center py-3 space-x-4">
                  <img
                    src="https://images.pexels.com/photos/1002640/pexels-photo-1002640.jpeg"
                    alt="Áo thun nam"
                    class="w-16 h-16 rounded-lg object-cover"
                  />
                  <div>
                    <p class="font-semibold">Áo thun nam</p>
                    <p class="text-sm text-gray-600">Size M - 2 cái</p>
                  </div>
                  <p class="ml-auto font-semibold">400,000 VND</p>
                </li>
                <li class="flex items-center py-3 space-x-4">
                  <img
                    src="https://images.pexels.com/photos/2983464/pexels-photo-2983464.jpeg"
                    alt="Quần jeans nữ"
                    class="w-16 h-16 rounded-lg object-cover"
                  />
                  <div>
                    <p class="font-semibold">Quần jeans nữ</p>
                    <p class="text-sm text-gray-600">Size 28 - 1 cái</p>
                  </div>
                  <p class="ml-auto font-semibold">800,000 VND</p>
                </li>
              </ul>
            </div>
          </div>
          <!-- More orders can be added here -->
        </div>
      </div>

      <!-- Addresses Panel -->
      <div id="panel-addresses" role="tabpanel" aria-labelledby="tab-addresses" hidden>
        <h3 class="text-3xl font-extrabold mb-8 text-gray-900">Sổ địa chỉ</h3>
        <div class="space-y-6 max-h-[65vh] overflow-y-auto order-scrollbar pr-2">
          <div class="border rounded-xl p-6 shadow-md hover:shadow-xl transition relative bg-white">
            <p><strong>Địa chỉ:</strong> 123 Đường ABC, Quận 1, TP. HCM</p>
            <p><strong>Điện thoại:</strong> 0123456789</p>
            <div class="absolute top-6 right-6 flex space-x-4">
              <button
                class="text-blue-600 hover:underline font-semibold focus:outline-none"
                type="button"
                onclick="editAddress(this)"
                aria-label="Chỉnh sửa địa chỉ"
              >
                Sửa
              </button>
              <button
                class="text-red-600 hover:underline font-semibold focus:outline-none"
                type="button"
                onclick="deleteAddress(this)"
                aria-label="Xóa địa chỉ"
              >
                Xóa
              </button>
            </div>
          </div>
          <!-- More addresses can be added here -->
        </div>
        <button
          class="mt-6 bg-black text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-900 transition"
          type="button"
          onclick="addAddress()"
        >
          Thêm địa chỉ mới
        </button>
      </div>

      <!-- Security Panel -->
      <div id="panel-security" role="tabpanel" aria-labelledby="tab-security" hidden>
        <h3 class="text-3xl font-extrabold mb-8 text-gray-900">Bảo mật tài khoản</h3>
        <form id="securityForm" class="space-y-8" novalidate>
          <div>
            <label for="currentPassword" class="block mb-3 font-semibold text-gray-700">Mật khẩu hiện tại</label>
            <input
              type="password"
              id="currentPassword"
              name="currentPassword"
              class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black transition"
              required
            />
          </div>
          <div>
            <label for="newPassword" class="block mb-3 font-semibold text-gray-700">Mật khẩu mới</label>
            <input
              type="password"
              id="newPassword"
              name="newPassword"
              class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black transition"
              required
              aria-describedby="passwordHelp"
            />
            <div class="strength-meter" aria-hidden="true">
              <div id="strengthMeterFill" class="strength-meter-fill bg-red-500 w-0 rounded"></div>
            </div>
            <p id="passwordHelp" class="text-sm text-gray-600 mt-2">Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa, chữ thường, số và ký tự đặc biệt.</p>
          </div>
          <div>
            <label for="confirmPassword" class="block mb-3 font-semibold text-gray-700">Xác nhận mật khẩu mới</label>
            <input
              type="password"
              id="confirmPassword"
              name="confirmPassword"
              class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-black transition"
              required
            />
          </div>
          <button
            type="submit"
            class="bg-black text-white px-8 py-3 rounded-lg font-semibold hover:bg-gray-900 transition"
          >
            Đổi mật khẩu
          </button>
        </form>
      </div>
    </section>
  </main>

  <script>
    // Mobile menu toggle
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenuButton.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });

    // Tabs functionality
    const tabs = document.querySelectorAll('[role="tab"]');
    const tabPanels = document.querySelectorAll('[role="tabpanel"]');

    tabs.forEach((tab) => {
      tab.addEventListener('click', () => {
        tabs.forEach((t) => {
          t.setAttribute('aria-selected', false);
          t.classList.remove('bg-black', 'text-white', 'shadow-md');
          t.classList.add('hover:bg-gray-100');
          t.setAttribute('tabindex', '-1');
        });
        tab.setAttribute('aria-selected', true);
        tab.classList.add('bg-black', 'text-white', 'shadow-md');
        tab.classList.remove('hover:bg-gray-100');
        tab.setAttribute('tabindex', '0');

        tabPanels.forEach((panel) => {
          panel.hidden = true;
        });
        const panel = document.getElementById(tab.getAttribute('aria-controls'));
        panel.hidden = false;
        panel.focus();
      });
    });

    // Form submission handlers
    document.getElementById('profileForm').addEventListener('submit', (e) => {
      e.preventDefault();
      alert('Thông tin đã được cập nhật!');
    });

    document.getElementById('securityForm').addEventListener('submit', (e) => {
      e.preventDefault();
      alert('Mật khẩu đã được thay đổi!');
    });

    // Password strength meter
    const newPasswordInput = document.getElementById('newPassword');
    const strengthMeterFill = document.getElementById('strengthMeterFill');

    newPasswordInput.addEventListener('input', () => {
      const val = newPasswordInput.value;
      let strength = 0;
      if (val.length >= 8) strength++;
      if (/[A-Z]/.test(val)) strength++;
      if (/[a-z]/.test(val)) strength++;
      if (/\d/.test(val)) strength++;
      if (/[\W_]/.test(val)) strength++;

      const widthPercent = (strength / 5) * 100;
      strengthMeterFill.style.width = widthPercent + '%';

      if (strength <= 2) {
        strengthMeterFill.className = 'strength-meter-fill bg-red-500 w-full rounded';
      } else if (strength === 3) {
        strengthMeterFill.className = 'strength-meter-fill bg-yellow-400 w-full rounded';
      } else if (strength >= 4) {
        strengthMeterFill.className = 'strength-meter-fill bg-green-500 w-full rounded';
      }
    });

    // Order details toggle
    window.toggleOrderDetails = function (id) {
      const el = document.getElementById(id);
      if (el) {
        el.classList.toggle('hidden');
      }
    };

    // Address management (dummy functions)
    window.editAddress = function (btn) {
      alert('Chức năng chỉnh sửa địa chỉ sẽ được phát triển sau.');
    };
    window.deleteAddress = function (btn) {
      if (confirm('Bạn có chắc muốn xóa địa chỉ này?')) {
        const addressCard = btn.closest('div.border');
        if (addressCard) {
          addressCard.remove();
        }
      }
    };
    window.addAddress = function () {
      alert('Chức năng thêm địa chỉ mới sẽ được phát triển sau.');
    };
  </script>
</body>
</html>
