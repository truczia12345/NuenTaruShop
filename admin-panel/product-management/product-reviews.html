<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Danh sách đánh giá sản phẩm</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="/assets/css/admin-panel.css">
</head>
<body class="bg-gray-50">
  <div class="max-w-full mx-auto px-4 py-8">
    <!-- Tiêu đề và thống kê -->
    <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-8 gap-6">
      <div>
        <h1 class="text-3xl font-bold text-gray-800 flex items-center gap-3">
          <i class="fas fa-star text-yellow-500 bg-yellow-100 p-3 rounded-full"></i>
          <span>Quản Lý Đánh Giá Sản Phẩm</span>
        </h1>
        <p class="text-gray-600 mt-2">Quản lý và kiểm duyệt tất cả đánh giá của khách hàng về sản phẩm</p>
      </div>
      
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <div class="bg-white p-4 rounded-lg shadow text-center">
          <div class="text-2xl font-bold text-blue-600">1,248</div>
          <div class="text-gray-500 text-sm">Tổng đánh giá</div>
        </div>
        <div class="bg-white p-4 rounded-lg shadow text-center">
          <div class="text-2xl font-bold text-green-600">4.2</div>
          <div class="text-gray-500 text-sm">Điểm trung bình</div>
        </div>
        <div class="bg-white p-4 rounded-lg shadow text-center">
          <div class="text-2xl font-bold text-red-600">42</div>
          <div class="text-gray-500 text-sm">Bị ẩn</div>
        </div>
        <div class="bg-white p-4 rounded-lg shadow text-center">
          <div class="text-2xl font-bold text-purple-600">86</div>
          <div class="text-gray-500 text-sm">Báo cáo sai</div>
        </div>
      </div>
    </div>
    
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8">
      <!-- Bộ lọc và công cụ -->
      <div class="lg:col-span-1">
        <div class="bg-white rounded-xl shadow p-6">
          <h2 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
            <i class="fas fa-filter text-blue-500"></i> Bộ lọc đánh giá
          </h2>
          
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Tìm kiếm</label>
              <div class="relative">
                <input type="text" placeholder="Tên sản phẩm, người dùng..." class="w-full p-2 border rounded-lg pl-10">
                <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
              </div>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Xếp hạng sao</label>
              <div class="grid grid-cols-3 gap-2">
                <button class="filter-btn active text-xs py-2 bg-blue-100 text-blue-800 rounded-lg">Tất cả</button>
                <button class="filter-btn text-xs py-2 bg-gray-100 text-gray-800 rounded-lg">5 sao</button>
                <button class="filter-btn text-xs py-2 bg-gray-100 text-gray-800 rounded-lg">4 sao</button>
                <button class="filter-btn text-xs py-2 bg-gray-100 text-gray-800 rounded-lg">3 sao</button>
                <button class="filter-btn text-xs py-2 bg-gray-100 text-gray-800 rounded-lg">2 sao</button>
                <button class="filter-btn text-xs py-2 bg-gray-100 text-gray-800 rounded-lg">1 sao</button>
              </div>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Trạng thái</label>
              <select class="w-full p-2 border rounded-lg">
                <option>Tất cả trạng thái</option>
                <option>Đã duyệt</option>
                <option>Chờ duyệt</option>
                <option>Đã ẩn</option>
              </select>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Thời gian</label>
              <select class="w-full p-2 border rounded-lg">
                <option>Tất cả thời gian</option>
                <option>Hôm nay</option>
                <option>7 ngày qua</option>
                <option>30 ngày qua</option>
                <option>3 tháng qua</option>
              </select>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Cửa hàng</label>
              <select class="w-full p-2 border rounded-lg">
                <option>Tất cả cửa hàng</option>
                <option>Shop Công Nghệ</option>
                <option>Laptop World</option>
                <option>Thời Trang Xinh</option>
                <option>Điện Máy Xanh</option>
              </select>
            </div>
            
            <div class="pt-4">
              <button class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-medium">
                <i class="fas fa-filter mr-2"></i> Áp dụng bộ lọc
              </button>
              <button class="w-full mt-2 border border-gray-300 text-gray-700 py-2 rounded-lg font-medium">
                <i class="fas fa-redo mr-2"></i> Đặt lại
              </button>
            </div>
          </div>
        </div>
        
        <!-- Thống kê đánh giá -->
        <div class="bg-white rounded-xl shadow p-6 mt-6">
          <h2 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
            <i class="fas fa-chart-pie text-purple-500"></i> Phân bổ đánh giá
          </h2>
          
          <div class="mt-6">
            <canvas id="ratingChart" height="220"></canvas>
          </div>
          
          <div class="mt-6 space-y-2">
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <span class="w-4 h-4 bg-green-500 rounded-full mr-2"></span>
                <span>5 sao (58%)</span>
              </div>
              <span class="font-medium">724</span>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <span class="w-4 h-4 bg-teal-400 rounded-full mr-2"></span>
                <span>4 sao (22%)</span>
              </div>
              <span class="font-medium">274</span>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <span class="w-4 h-4 bg-yellow-400 rounded-full mr-2"></span>
                <span>3 sao (12%)</span>
              </div>
              <span class="font-medium">150</span>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <span class="w-4 h-4 bg-orange-400 rounded-full mr-2"></span>
                <span>2 sao (5%)</span>
              </div>
              <span class="font-medium">62</span>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <span class="w-4 h-4 bg-red-500 rounded-full mr-2"></span>
                <span>1 sao (3%)</span>
              </div>
              <span class="font-medium">38</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Danh sách đánh giá -->
      <div class="lg:col-span-3">
        <div class="bg-white rounded-xl shadow">
          <div class="p-6 border-b">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
              <h2 class="text-xl font-semibold text-gray-800">
                <i class="fas fa-list mr-2 text-blue-500"></i> Danh sách đánh giá
              </h2>
              
              <div class="flex gap-2">
                <button class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium">
                  <i class="fas fa-file-export mr-1"></i> Xuất Excel
                </button>
                <button class="bg-red-100 hover:bg-red-200 text-red-700 px-4 py-2 rounded-lg text-sm font-medium">
                  <i class="fas fa-trash mr-1"></i> Xóa đã chọn
                </button>
              </div>
            </div>
          </div>
          
          <!-- Các đánh giá -->
          <div class="divide-y">
            <!-- Review 1 -->
            <div class="review-card review-5-star p-6">
              <div class="flex flex-col md:flex-row gap-4">
                <div class="flex-shrink-0">
                  <img src="https://via.placeholder.com/80" class="w-20 h-20 object-cover rounded-lg">
                </div>
                
                <div class="flex-1">
                  <div class="flex flex-wrap justify-between gap-2">
                    <h3 class="font-bold text-lg text-gray-800">Tai nghe Bluetooth Sony WH-1000XM4</h3>
                    <span class="text-sm text-gray-500">12/03/2024 14:30</span>
                  </div>
                  
                  <div class="flex items-center gap-2 mt-1 mb-2">
                    <div class="star-rating flex">
                      <i class="fas fa-star filled"></i>
                      <i class="fas fa-star filled"></i>
                      <i class="fas fa-star filled"></i>
                      <i class="fas fa-star filled"></i>
                      <i class="fas fa-star filled"></i>
                    </div>
                    <span class="text-sm font-medium text-gray-700">5.0</span>
                  </div>
                  
                  <div class="text-gray-700 mb-3">
                    <p>Tai nghe tuyệt vời! Âm thanh sống động, chống ồn chủ động cực tốt. Pin trâu, dùng cả ngày vẫn chưa hết pin. Thiết kế đẹp, đeo êm tai cả ngày không đau. Đáng đồng tiền bát gạo!</p>
                  </div>
                  
                  <div class="flex justify-between items-center flex-wrap gap-3">
                    <div>
                      <span class="font-medium">Người đánh giá:</span>
                      <span class="text-blue-600 font-medium">Trần Minh Anh</span>
                      <span class="text-gray-500 text-sm ml-2">(ID: KH-01234)</span>
                    </div>
                    
                    <div class="flex gap-2">
                      <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">
                        <i class="fas fa-check-circle mr-1"></i> Đã duyệt
                      </span>
                      <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">
                        <i class="fas fa-store mr-1"></i> Shop Công Nghệ
                      </span>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="flex justify-end gap-3 mt-4 pt-4 border-t">
                <button class="text-gray-600 hover:text-gray-900">
                  <i class="fas fa-eye-slash mr-1"></i> Ẩn đánh giá
                </button>
                <button class="text-red-600 hover:text-red-900">
                  <i class="fas fa-trash mr-1"></i> Xóa
                </button>
                <button class="text-blue-600 hover:text-blue-900">
                  <i class="fas fa-flag mr-1"></i> Báo cáo sai
                </button>
                <button class="text-green-600 hover:text-green-900">
                  <i class="fas fa-reply mr-1"></i> Phản hồi
                </button>
              </div>
            </div>
            
            <!-- Review 2 -->
            <div class="review-card review-1-star p-6">
              <div class="flex flex-col md:flex-row gap-4">
                <div class="flex-shrink-0">
                  <img src="https://via.placeholder.com/80" class="w-20 h-20 object-cover rounded-lg">
                </div>
                
                <div class="flex-1">
                  <div class="flex flex-wrap justify-between gap-2">
                    <h3 class="font-bold text-lg text-gray-800">Laptop Dell XPS 13 9310</h3>
                    <span class="text-sm text-gray-500">10/03/2024 09:15</span>
                  </div>
                  
                  <div class="flex items-center gap-2 mt-1 mb-2">
                    <div class="star-rating flex">
                      <i class="fas fa-star filled"></i>
                      <i class="far fa-star"></i>
                      <i class="far fa-star"></i>
                      <i class="far fa-star"></i>
                      <i class="far fa-star"></i>
                    </div>
                    <span class="text-sm font-medium text-gray-700">1.0</span>
                  </div>
                  
                  <div class="text-gray-700 mb-3">
                    <p>Hàng lỗi! Mới mua về sử dụng được 3 ngày đã bị treo máy liên tục. Màn hình xuất hiện vệt sáng dọc. Dịch vụ hỗ trợ chậm trễ, không giải quyết triệt để. Không đáng với số tiền 30 triệu!</p>
                    
                    <div class="mt-3 flex gap-2">
                      <img src="https://via.placeholder.com/80" class="w-16 h-16 object-cover rounded border">
                      <img src="https://via.placeholder.com/80" class="w-16 h-16 object-cover rounded border">
                    </div>
                  </div>
                  
                  <div class="flex justify-between items-center flex-wrap gap-3">
                    <div>
                      <span class="font-medium">Người đánh giá:</span>
                      <span class="text-blue-600 font-medium">Nguyễn Văn Bình</span>
                      <span class="text-gray-500 text-sm ml-2">(ID: KH-08765)</span>
                    </div>
                    
                    <div class="flex gap-2">
                      <span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm">
                        <i class="fas fa-exclamation-triangle mr-1"></i> Chờ duyệt
                      </span>
                      <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">
                        <i class="fas fa-store mr-1"></i> Laptop World
                      </span>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="flex justify-end gap-3 mt-4 pt-4 border-t">
                <button class="text-gray-600 hover:text-gray-900">
                  <i class="fas fa-eye mr-1"></i> Hiển thị
                </button>
                <button class="text-red-600 hover:text-red-900">
                  <i class="fas fa-trash mr-1"></i> Xóa
                </button>
                <button class="text-blue-600 hover:text-blue-900">
                  <i class="fas fa-flag mr-1"></i> Báo cáo sai
                </button>
                <button class="text-green-600 hover:text-green-900">
                  <i class="fas fa-reply mr-1"></i> Phản hồi
                </button>
              </div>
            </div>
            
            <!-- Review 3 -->
            <div class="review-card review-4-star p-6">
              <div class="flex flex-col md:flex-row gap-4">
                <div class="flex-shrink-0">
                  <img src="https://via.placeholder.com/80" class="w-20 h-20 object-cover rounded-lg">
                </div>
                
                <div class="flex-1">
                  <div class="flex flex-wrap justify-between gap-2">
                    <h3 class="font-bold text-lg text-gray-800">Áo khoác nam dù chống nước</h3>
                    <span class="text-sm text-gray-500">08/03/2024 16:45</span>
                  </div>
                  
                  <div class="flex items-center gap-2 mt-1 mb-2">
                    <div class="star-rating flex">
                      <i class="fas fa-star filled"></i>
                      <i class="fas fa-star filled"></i>
                      <i class="fas fa-star filled"></i>
                      <i class="fas fa-star filled"></i>
                      <i class="far fa-star"></i>
                    </div>
                    <span class="text-sm font-medium text-gray-700">4.0</span>
                  </div>
                  
                  <div class="text-gray-700 mb-3">
                    <p>Áo đẹp, chất liệu tốt, chống nước hiệu quả. Mặc ấm, thiết kế trẻ trung. Duy nhất hơi bị hầm một chút khi mặc lâu. Nhưng giá cả hợp lý so với chất lượng.</p>
                  </div>
                  
                  <div class="flex justify-between items-center flex-wrap gap-3">
                    <div>
                      <span class="font-medium">Người đánh giá:</span>
                      <span class="text-blue-600 font-medium">Lê Thị Hương</span>
                      <span class="text-gray-500 text-sm ml-2">(ID: KH-04521)</span>
                    </div>
                    
                    <div class="flex gap-2">
                      <span class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm">
                        <i class="fas fa-eye-slash mr-1"></i> Đã ẩn
                      </span>
                      <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">
                        <i class="fas fa-store mr-1"></i> Thời Trang Xinh
                      </span>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="flex justify-end gap-3 mt-4 pt-4 border-t">
                <button class="text-gray-600 hover:text-gray-900">
                  <i class="fas fa-eye mr-1"></i> Hiển thị
                </button>
                <button class="text-red-600 hover:text-red-900">
                  <i class="fas fa-trash mr-1"></i> Xóa
                </button>
                <button class="text-blue-600 hover:text-blue-900">
                  <i class="fas fa-flag mr-1"></i> Báo cáo sai
                </button>
                <button class="text-green-600 hover:text-green-900">
                  <i class="fas fa-reply mr-1"></i> Phản hồi
                </button>
              </div>
            </div>
          </div>
          
          <!-- Phân trang -->
          <div class="p-6 border-t">
            <div class="flex flex-col md:flex-row items-center justify-between gap-4">
              <div class="text-sm text-gray-600">
                Hiển thị 1-3 của 1,248 đánh giá
              </div>
              
              <nav class="pagination">
                <ul class="inline-flex items-center -space-x-px">
                  <li class="page-item">
                    <a href="#" class="page-link px-3 py-2 ml-0 rounded-l-lg border border-gray-300 bg-white text-gray-500 hover:bg-gray-100">
                      <i class="fas fa-chevron-left"></i>
                    </a>
                  </li>
                  <li class="page-item active">
                    <a href="#" class="page-link px-4 py-2 border border-gray-300">1</a>
                  </li>
                  <li class="page-item">
                    <a href="#" class="page-link px-4 py-2 border border-gray-300">2</a>
                  </li>
                  <li class="page-item">
                    <a href="#" class="page-link px-4 py-2 border border-gray-300">3</a>
                  </li>
                  <li class="page-item">
                    <a href="#" class="page-link px-4 py-2 border border-gray-300">...</a>
                  </li>
                  <li class="page-item">
                    <a href="#" class="page-link px-4 py-2 border border-gray-300">42</a>
                  </li>
                  <li class="page-item">
                    <a href="#" class="page-link px-3 py-2 rounded-r-lg border border-gray-300 bg-white text-gray-500 hover:bg-gray-100">
                      <i class="fas fa-chevron-right"></i>
                    </a>
                  </li>
                </ul>
              </nav>
              
              <div class="flex items-center">
                <span class="mr-2 text-sm text-gray-600">Mỗi trang:</span>
                <select class="border rounded p-1 text-sm">
                  <option>3</option>
                  <option selected>10</option>
                  <option>25</option>
                  <option>50</option>
                  <option>100</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    // Khởi tạo biểu đồ phân bổ đánh giá
    const ctx = document.getElementById('ratingChart').getContext('2d');
    const ratingChart = new Chart(ctx, {
      type: 'doughnut',
      data: {
        labels: ['5 sao', '4 sao', '3 sao', '2 sao', '1 sao'],
        datasets: [{
          data: [58, 22, 12, 5, 3],
          backgroundColor: [
            '#10b981',
            '#0ea5e9',
            '#eab308',
            '#f97316',
            '#ef4444'
          ],
          borderWidth: 0,
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        cutout: '70%',
        plugins: {
          legend: {
            display: false
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                return `${context.label}: ${context.parsed}%`;
              }
            }
          }
        }
      }
    });
    
    // Xử lý bộ lọc
    document.querySelectorAll('.filter-btn').forEach(button => {
      button.addEventListener('click', function() {
        document.querySelectorAll('.filter-btn').forEach(btn => {
          btn.classList.remove('active', 'bg-blue-100', 'text-blue-800');
          btn.classList.add('bg-gray-100', 'text-gray-800');
        });
        this.classList.add('active', 'bg-blue-100', 'text-blue-800');
        this.classList.remove('bg-gray-100', 'text-gray-800');
      });
    });
    
    // Xử lý chọn hành động trên đánh giá
    document.querySelectorAll('.review-card .fa-trash').forEach(icon => {
      icon.closest('button').addEventListener('click', function() {
        const reviewCard = this.closest('.review-card');
        const productName = reviewCard.querySelector('h3').textContent;
        if (confirm(`Bạn có chắc chắn muốn xóa đánh giá cho sản phẩm "${productName}"?`)) {
          reviewCard.style.opacity = '0.5';
          setTimeout(() => {
            reviewCard.style.display = 'none';
          }, 300);
        }
      });
    });
  </script>
</body>
</html>